---
title: nginx的坑
date: 2020-04-30 19:15:59
tags:
---

之前布置Nginx的时候很顺利。今天遇到了很多问题，显示80端口占用，后来在杀死进程之后就可以顺利的重启了，后来又提示没有权限创建文件，后来发现在创建的git用户下不能直接访问root目录下的文件，后来为了权限，就使用了root用户，操作脚本文件。

## 疑惑 ##
更改了服务器资源，发现普通模式下打不开域名/域名保存的是之前的内容，但是使用无痕模式却可以打开，so strange！
  `后来发现是我修改了域名对应的IP，而浏览器中存在DNS缓存，DNS查询顺序`

    浏览器缓存->系统缓存->路由器缓存->ISP DNS缓存->递归搜索
这样导致浏览器缓存优先级最高，域名解析成了之前的ip，所以找不到资源